<h3>1. Préambule</h3>
<p>
    La plupart du temps, les opérateurs et les fonctions convertissent automatiquement les valeurs qui 
    leur sont attribuées dans le bon type.

    Par exemple, <b>alert()</b> convertit automatiquement toute valeur en chaîne de caractères pour l’afficher. <br>
    Les opérations mathématiques convertissent les valeurs en nombres.

    Il y a aussi des cas où nous devons convertir explicitement une valeur pour corriger les choses.
</p>
<div class="info p-3">

    <p><b>On ne parle pas encore des objets</b></p>

    Dans ce chapitre, nous ne couvrons pas encore les objets. Ici, nous étudions d’abord les primitives.
    <br> <br>
    Plus tard, après avoir appris les objets, nous verrons comment la conversion d’objets fonctionne 
    dans le chapitre <cite>Conversion d'objet en primitive</cite>.    
</div>
<h3>2. La conversion vers le type String (chaîne de caractères)</h3>
<p>
    La conversion <b>String</b> se produit lorsque nous avons besoin de la forme 
    chaîne de caractères d’une valeur. <br>
    <br>
    Par exemple, <cite>alert(value)</cite> le fait pour afficher la valeur. <br>
    Nous pouvons également utiliser un appel de fonction String(value) pour ça :
</p>
<textarea class="code-php">
    let value = true;
    alert(typeof value); // boolean

    value = String(value); // maintenant la valeur est une chaîne de caractères "true"
    alert(typeof value); // string  
</textarea>
<p>
    La conversion <b>String</b> est assez évidente. Un <b>false</b> devient <b>"false"</b>, 
    <b>null</b> devient <b>"null"</b> etc.
</p>
<h3>3. La conversion vers le type Numeric</h3>
<p>
    La conversion numérique dans les fonctions et expressions mathématiques 
    s’effectue automatiquement.
    Par exemple, lorsque la division <b>/</b> est appliqué à des non-numéros :
</p>
<textarea class="code-php">
    alert( "6" / "2" ); // 3, les chaînes sont converties en nombres
</textarea>
<p>
    Nous pouvons utiliser une fonction Number(value) pour convertir explicitement une valeur :
</p>
<textarea class="code-php">
    let str = "123";
    alert(typeof str); // string

    let num = Number(str); // devient un nombre 123

    alert(typeof num); // nombre
</textarea>
<p>
    Une conversion explicite est généralement requise lorsque nous lisons une 
    valeur à partir d’une source basée sur des chaînes de caractères, 
    par exemple un champ texte, mais qu’un nombre doit être entré. <br>
    <br>
    Si la chaîne de caractères n’est pas un nombre valide, le résultat de cette 
    conversion est <b>NaN</b>, par exemple :
</p>
<textarea class="code-php">
    let age = Number("une chaîne de caractères arbitraire au lieu d'un nombre");
    alert(age); // NaN, la conversion a échoué
</textarea>

<h4>Les règles de conversion numériques :</h4>
<table class="table">
    <thead>
        <tr>
        <th>Valeur</th>
        <th>Devient …</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td><code>undefined</code></td>
        <td><code>NaN</code></td>
        </tr>
        <tr>
        <td><code>null</code></td>
        <td><code>0</code></td>
        </tr>
        <tr>
        <td><code>true&nbsp;et&nbsp;false</code></td>
        <td><code>1</code> et <code>0</code></td>
        </tr>
        <tr>
        <td><code>string</code></td>
        <td>Les espaces blancs du début et de la fin sont supprimés. Ensuite, si la chaîne restante est vide, le résultat est <code>0</code>. Sinon, le nombre est «lu» dans la chaîne. Une erreur donne <code>NaN</code>.</td>
        </tr>
        </tbody>        
</table>
<p>
    Quelques exemples :
</p>
<textarea class="code-php">
    alert( Number("   123   ") ); // 123
    alert( Number("123z") );      // NaN (erreur de lecture d'un nombre à "z")
    alert( Number(true) );        // 1
    alert( Number(false) );       // 0
</textarea>
<p>
    Veuillez noter que <b>null</b> et <b>undefined</b> se comportent 
    différemment ici : <b>null</b> devient un <b>zéro (0)</b>, alors qu’undefined
    devient <b>NaN</b>. <br>
    <br>
    La plupart des opérateurs mathématiques effectuent également une telle 
    conversion, nous le verrons dans le chapitre suivant.
</p>
<h3>4. La conversion vers le type booléen</h3>
<p>
    La conversion booléenne est la plus simple. <br>
    <br>
    Cela se produit dans les opérations logiques (plus tard, nous nous intéresserons aux tests de 
    condition et à d’autres types de tests), mais nous pouvons également l’effectuer manuellement 
    avec l’appel de <b>Boolean(value)</b>. <br>
    <br>
    La règle de conversion :
</p>
<ul>
    <li>
        Les valeurs qui sont intuitivement «vides», comme <b>0</b>, une chaîne de caractères vide,
        <b>null</b>, <b>undefined</b> et <b>NaN</b>, deviennent <b>false</b>.
    </li>
    <li>Les autres valeurs deviennent <b>true</b>.</li>
</ul>
<p>
    Par exemple :
</p>
<textarea class="code-php">
    alert( Boolean(1) ); // true
    alert( Boolean(0) ); // false

    alert( Boolean("hello") ); // true
    alert( Boolean("") ); // false
</textarea>
<div class="info p-3">
    <b>Veuillez noter que la chaîne de caractères avec un zero "0" est true </b> <br>
    <br>
    Certains langages (à savoir PHP) traitent <b>"0"</b> comme faux. Mais en JavaScript, 
    une chaîne non vide est toujours <b>true</b>.
</div>
<textarea class="code-php">
    alert( Boolean("0") ); // true
    alert( Boolean(" ") ); // espaces, également vrai (toute chaîne de caractères non vide est vraie)
</textarea>
<h3>5. Résumé</h3>
<p>
    Les trois conversions de types les plus utilisées sont : to string, to number et to boolean. <br>
    <br>
    <b>La conversion en String</b> – Se produit lorsque nous sortons quelque chose, peut être effectué 
    avec <b>String(value)</b>. La conversion en chaîne de caractères est généralement évidente pour les 
    valeurs primitives. <br>
    <br>
    <b>La conversion en Number</b> – Se produit dans les opérations mathématiques, peut être effectué 
    avec <b>Number(value)</b>. <br>
    <br>
    <cite>La conversion vers number suit les règles suivantes </cite>:
</p>
<table class="table">
    <thead>
        <tr>
        <th>Valeur</th>
        <th>Devient …</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td><code>undefined</code></td>
        <td><code>NaN</code></td>
        </tr>
        <tr>
        <td><code>null</code></td>
        <td><code>0</code></td>
        </tr>
        <tr>
        <td><code>true&nbsp;/&nbsp;false</code></td>
        <td><code>1 / 0</code></td>
        </tr>
        <tr>
        <td><code>string</code></td>
        <td>La chaîne de caractères est lue “tel quel”, les espaces des deux côtés sont ignorés. Une chaîne vide devient <code>0</code>. Une erreur donne <code>NaN</code>.</td>
        </tr>
        </tbody>        
</table>
<p>
    <b>La conversion en Boolean</b> – Se produit dans des opérations logiques, ou peut être effectué 
    avec <b>Boolean(value)</b>. <br>
    <br>
    <cite>La conversion vers boolean suit les règles suivantes</cite>:
</p>
<table class="table">
    <thead>
        <tr>
        <th>Valeur</th>
        <th>Devient …</th>
        </tr>
    </thead>
    <tbody>
        <tr>
        <td><code>0</code>, <code>null</code>, <code>undefined</code>, <code>NaN</code>, <code>""</code></td>
        <td><code>false</code></td>
        </tr>
        <tr>
        <td>tout autre valeur</td>
        <td><code>true</code></td>
        </tr>
    </tbody>        
</table>
<p>
    La plupart de ces règles sont faciles à comprendre et à mémoriser. Les exceptions notables où 
    les gens font généralement des erreurs sont :
    <ul>
        <li><b>undefined</b> est <b>NaN</b> en tant que number, non <b>0</b>.</li>
        <li>
            <b>"0"</b> et les espaces dans les chaines de caractères comme <b>" "</b> sont <b>“true”</b> 
            en booléen.
        </li>
    </ul>
    <br>
    Les objets ne sont pas couverts ici, nous y reviendrons plus tard dans le chapitre Conversion 
    d'objet en primitive qui est consacré exclusivement aux objets, après avoir appris plus de 
    choses basiques sur JavaScript.
</p>
